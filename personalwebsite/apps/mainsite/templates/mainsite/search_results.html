{% extends 'base.html' %}
{% load staticfiles %}

{% block page_stylesheets %}
<link rel="stylesheet" href="{% static 'css/blog.css' %}">
{% endblock %}

{% block page_content %}
{% if search_results %}
	{% for post in search_results %}
	<div class="blog-content-wrapper">
		<div class="blog-post">
			<h2 class="blog-post-title">
			<a href="{% url 'post' post.slug %}">{{ post.title }}</a></h2>
			<p class="blog-post-meta">Published on: {{ post.pub_date }}<br>
			Tags: {{ post.get_tags }}</p><hr>
			{{ post.text|truncatewords:300|safe }}<br>
			
			<div class="right-align">
			<button class="btn btn-xs btn-default" align="right" onClick="location.href='{% url 'post' post.slug %}'">Read on...</button>
			</div>
			<br>
		</div>
	</div>
	{% endfor %}

	
{% if search_results.has_other_pages %}
	{% load url_replace %}
	<nav>
	    <ul class="pagination">
	    {% if search_results.has_previous %}
	        <li>
	            <a href="?{% url_replace request 'page' search_results.previous_page_number %}" aria-label="Previous">
	                <span aria-hidden="true">&laquo;</span>
	            </a>
	        </li>
	    {% endif %}
	    {% for page_num in search_results.paginator.page_range %}
	        {% if search_results.number == page_num %}
	            <li class="active"><a href="?{% url_replace request 'page' page_num %}">{{ page_num }}</a></li>
	        {% else %}
	            <li><a href="?{% url_replace request 'page' page_num %}">{{ page_num }}</a></li>
	        {% endif %}
	    {% endfor %}
	    {% if search_results.has_next %}
		    <li>
		      <a href="?{% url_replace request 'page' search_results.next_page_number %}" aria-label="Next">
		        <span aria-hidden="true">&raquo;</span>
		      </a>
		    </li>
	    {% endif %}
	  </ul>
	</nav>
{% endif %}


{% else %}
	<h1>Nothing to see here</h1>
{% endif %}



{% endblock %}